(function(g,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):(g=g||self,g.Stats=d())})(this,function(){function g(b,d){if("undefined"!==typeof b)switch(typeof b){case "string":var e=b;e.includes("%")&&(e=Number(b.split("%")[0]),e=Math.round(d*e/100));return Number(e);case "number":return b;case "undefined":break;default:throw Error("invalid Error threshold type");}}var d=function(b){function p(f){a.appendChild(f.dom);return f}
function e(f){for(var b=0;b<a.children.length;b++)a.children[b].style.display=b===f?"block":"none";y=f}var y=0;b||(b={});d.alertThreshold=b.alertThreshold||{};b=d.alertThreshold;var q=b.fps,r=b.ms,k=b.mb;q=g(q,100);r=g(r,200);k=g(k,self.performance.memory.jsHeapSizeLimit/1048576);var a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";a.addEventListener("click",function(b){b.preventDefault();e(++y%a.children.length)},!1);var l=(performance||
Date).now(),m=l,v=0,z=p(new d.Panel("FPS","#0ff","#002","#f00")),n=p(new d.Panel("MS","#0f0","#020","#f00"));if(self.performance&&self.performance.memory)var h=p(new d.Panel("MB","#f08","#201","#fff"));e(0);return{REVISION:16,dom:a,addPanel:p,showPanel:e,begin:function(){l=(performance||Date).now()},end:function(){v++;var a=(performance||Date).now();n.update(a-l,200,r);if(a>=m+1E3&&(z.update(1E3*v/(a-m),100,q),m=a,v=0,h)){var b=performance.memory;h.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/
1048576,k)}return a},update:function(){l=this.end()},domElement:a,setMode:e}};d.Panel=function(b,d,e,g){var q=Infinity,r=0,k=Math.round,a=k(window.devicePixelRatio||1),l=80*a,m=48*a,v=3*a,p=2*a,n=3*a,h=15*a,f=74*a,u=30*a,w=document.createElement("canvas");w.width=l;w.height=m;w.style.cssText="width:80px;height:48px";var c=w.getContext("2d");c.font="bold "+9*a+"px Helvetica,Arial,sans-serif";c.textBaseline="top";c.fillStyle=e;c.fillRect(0,0,l,m);c.fillStyle=d;c.fillText(b,v,p);c.fillRect(n,h,f,u);
c.fillStyle=e;c.globalAlpha=.9;c.fillRect(n,h,f,u);return{dom:w,update:function(t,m,x){q=Math.min(q,t);r=Math.max(r,t);c.fillStyle=e;c.globalAlpha=1;c.fillRect(0,0,l,h);c.fillStyle=d;c.fillText(k(t)+" "+b+" ("+k(q)+"-"+k(r)+")",v,p);if("number"===typeof x)switch(b){case "FPS":t<=x&&(c.fillStyle=g);break;case "MB":t>=x&&(c.fillStyle=g);break;case "MS":t>=x&&(c.fillStyle=g)}c.drawImage(w,n+a,h,f-a,u,n,h,f-a,u);c.fillRect(n+f-a,h,a,u);c.fillStyle=e;c.globalAlpha=.9;c.fillRect(n+f-a,h,a,k((1-t/m)*u))}}};
return d});
